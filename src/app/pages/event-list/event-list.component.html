<div class="event-list-container">
  <div class="list-header">
    <h1 class="list-title">Event List</h1>
  </div>

  <div class="filter-section">
    <app-event-filter (filterChange)="onFilterChange($event)"></app-event-filter>
  </div>

  <div class="events-list">
    <ng-container *ngIf="(filteredEvents$ | async) as events">
      <div *ngIf="events.length === 0" class="empty-state">
        <div class="empty-icon">ðŸ“…</div>
        <h3>No events found</h3>
        <p>Try adjusting your filters or add a new event to get started!</p>
      </div>

      <div *ngFor="let event of events; trackBy: trackByEventId" class="event-item" [class.completed]="event.completed" [class.past]="isPastEvent(event.date)">
        <div class="event-content" (click)="onViewEvent(event)">
          <div class="event-main">
            <h3 class="event-name">{{ event.name }}</h3>
            <div class="event-details">
              <span class="event-date">
                <mat-icon>schedule</mat-icon>
                {{ formatEventDate(event.date) }} at {{ formatEventTime(event.time) }}
              </span>
              <span class="event-location">
                <mat-icon>location_on</mat-icon>
                {{ event.location }}
              </span>
            </div>
            <div class="event-category" [style.background]="getCategoryColor(event.category)">
              {{ event.category }}
            </div>
          </div>
        </div>

        <div class="event-actions">
          <button
            class="action-btn edit-btn"
            (click)="onEditEvent(event.id); $event.stopPropagation()"
            matTooltip="Edit Event"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            class="action-btn delete-btn"
            (click)="onDeleteEvent(event.id); $event.stopPropagation()"
            matTooltip="Delete Event"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>
    </ng-container>
  </div>

  <button
    mat-fab
    color="primary"
    class="fab"
    (click)="onAddEvent()"
    matTooltip="Add New Event"
    aria-label="Add new event"
  >
    <mat-icon>add</mat-icon>
  </button>
</div>
